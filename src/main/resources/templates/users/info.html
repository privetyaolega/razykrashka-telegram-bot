<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <div th:replace="blocks/head :: header"></div>
        <script>
            $(document).ready(function () {
                $('#table').DataTable({
                    "order": [ [4, "desc"] ],
                    "lengthMenu": [20, 25, 50, 75, 100],
                    "pageLength": 20
                });
            });
        </script>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/dt-1.10.21/datatables.min.css"/>
        <script type="text/javascript" src="https://cdn.datatables.net/v/dt/dt-1.10.21/datatables.min.js"></script>
        <style>
            .row {
                width: 100%;
            }
        </style>
    </head>
    <body>
        <div class="container d-flex align-items-stretch">
            <nav id="sidebar" class="img">
                <div th:replace="blocks/navigation :: navigation"></div>
            </nav>
            <!-- Page Content  -->
            <div id="content" class="p-4 p-md-5 pt-5">
                <div>
                    <!--Main table-->
                    <table id="table" class="table table-striped" width="100%">
                        <thead class="thead-dark">
                            <tr>
                                <th>ID</th>
                                <th>Username</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Membership date</th>
                                <th>Log</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr th:each="user : ${userPage}">
                                <td th:text="${user.id}"/>
                                <td th:text="${user.userName}"/>
                                <td th:text="${user.firstName}"/>
                                <td th:text="${user.lastName}"/>
                                <td th:text="${user.membershipDate}"/>
                                <td><a th:href="@{download-log?user-id={id}(id=${user.id})}">Download log file</a></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.12/js/jquery.dataTables.min.js"></script>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.13/js/dataTables.bootstrap4.min.js"></script>
            </div>
        </div>
    </body>
</html>